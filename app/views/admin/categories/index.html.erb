<div class="container-fluid main-container">
  <div class="col-md-10 content">
    <div class="panel panel-default">
      <div class="panel-heading">
        <div class="row">
          <div class="col-sm-3">
            <h2>Manage <b>Category</b></h2>
          </div>
          <div class="col-sm-7" style= "padding-top:1%">
            <%= form_tag(admin_categories_path, method: :get) do  %>
              <div class="col-md-6" id="adv-search">
                <%= text_field_tag :term, params[:term], class: "form-control", placeholder: "Search by title",autocomplate: 'off' %>
              </div>
              <div class="col-md-2" style = "padding-left:3%">
                <%= submit_tag 'Search', class: "btn btn-primary"  %>
              </div>
            </div>
          <% end %>
          <div class="col-sm-2"style= "padding-top:1%">
            <a href="#addCategoryModal" class="btn btn-success" data-toggle="modal"><i class="material-icons">&#xE147;</i> <span>Add New Category</span></a>
          </div>
        </div>
      </div>
    </div>
    <div class="panel-body">
      <div class="table-wrapper">
        <table class="table table-striped table-hover">
          <thead>
            <tr>
              <th>
                <span class="custom-checkbox">
                  <input type="checkbox" id="selectAll">
                  <label for="selectAll"></label>
                </span>
              </th>
              <th>Category</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <% @categories.each do |category|  %>
              <tr>
                <td>
                  <span class="custom-checkbox">
                    <input type="checkbox" id="checkbox1" name="options[]" value="1">
                    <label for="checkbox1"></label>
                  </span>
                </td>
                <td><%= category.name %></td>
                <td>
                  <a href="#editCategoryModal" class="edit" data-toggle="modal"><i class="material-icons" data-toggle="tooltip" title="Edit">&#xE254;</i></a>
                  <a href="#deleteCategoryModal" class="delete" data-toggle="modal"><i class="material-icons" data-toggle="tooltip" title="Delete">&#xE872;</i></a>
                </td>
              </tr>
              <tr>
                <td>
                </tr>
                <div id="addCategoryModal" class="modal fade">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h4 class="modal-title">Add Category</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                      </div>
                      <div class="modal-body">
                        <%= simple_form_for [:admin ,@category],method: :post, :html => { :multipart => true }  do |f| %>
                          <%= f.input :name %>
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                          <%= f.button :submit %>
                        <% end %>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- Edit Modal HTML -->
                <div id="editCategoryModal" class="modal fade">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h4 class="modal-title">Edit Category</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                      </div>
                      <div class="modal-body">
                        <%= simple_form_for [:admin,category],method: :PATCH,:html => { :multipart => true } do |f| %>
                          <%= f.input :name, input_html: {value: f.object.name || book.name} ,as: :text%>
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                          <%= f.button :submit %>
                        </div>
                      <% end %>
                    </div>
                  </div>
                </div>
                <!-- Delete Modal HTML -->
                <div id="deleteCategoryModal" class="modal fade">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h4 class="modal-title">Delete Book</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                      </div>
                      <div class="modal-body">
                        <p>Are you sure you want to delete these Books?</p>
                        <p class="text-warning"><small>This action cannot be undone.</small></p>
                      </div>
                      <div class="modal-footer">
                        <%= simple_form_for [:admin,category] , method: :delete do |f| %>
                          <input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
                          <%= f.button(:submit, {value: "Delete Category", class: 'btn btn-primary', method: 'delete'}) %>
                        <% end %>
                      </div>
                    </div>
                  </div>
                </div>
              <% end %>
            </tbody>
          </table>
          <div class="clearfix">
            <div class="hint-text"> <%= page_entries_info @categories %></div>
            <ul class="pagination">
              <div class="digg_pagination">
                <%= will_paginate @categories, :container => false %>
              </div>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<footer class="pull-left footer">
  <p class="col-md-12">
    <hr class="divider">
    footer
  </p>
</footer>
</div>
